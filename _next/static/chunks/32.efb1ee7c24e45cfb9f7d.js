(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{RS7s:function(t,e,n){"use strict";function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("8ml+"),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var u=r?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n("q1tI")),u=n("i8i4"),p=n("fce0");function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,n,o,l=b(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=l.call(this,t)).el=document.createElement("div"),e}return e=c,(n=[{key:"componentDidMount",value:function(){var t,e=this.props,n=e.lnglat,o=e.children,i=e.option,u=e.lngLat,p=new r.Popup(a(a({},i),{},{stopPropagation:null===(t=this.props.option)||void 0===t?void 0:t.stopPropagation}));n&&p.setLnglat(n),u&&p.setLnglat(u),o&&p.setDOMContent(this.el),this.popup=p,this.scene.addPopup(p)}},{key:"componentDidUpdate",value:function(t){var e,n,o,i,u,p,l,c=Array.isArray(t.lnglat)?t.lnglat:[null===t||void 0===t||null===(e=t.lnglat)||void 0===e?void 0:e.lng,null===t||void 0===t||null===(n=t.lnglat)||void 0===n?void 0:n.lat],s=Array.isArray(this.props.lnglat)?this.props.lnglat:[null===(o=this.props)||void 0===o||null===(i=o.lnglat)||void 0===i?void 0:i.lng,null===(u=this.props)||void 0===u||null===(p=u.lnglat)||void 0===p?void 0:p.lat];c.toString()!==s.toString()&&(this.popup.remove(),this.popup=new r.Popup(a(a({},this.props.option),{},{stopPropagation:null===(l=this.props.option)||void 0===l?void 0:l.stopPropagation})),this.popup.setLnglat(this.props.lnglat),this.popup.setDOMContent(this.el),this.scene.addPopup(this.popup))}},{key:"componentWillUnmount",value:function(){this.popup.remove()}},{key:"render",value:function(){var t=this;return i.createElement(p.SceneContext.Consumer,{},(function(e){return e&&(t.scene=e),(0,u.createPortal)(t.props.children,t.el)}))}}])&&f(e.prototype,n),o&&f(e,o),c}(i.PureComponent);e.default=h}}]);